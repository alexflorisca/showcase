{"version":3,"sources":["showcase.js"],"names":["throttle","f","t","inThrottle","args","setTimeout","Showcase","el","content","querySelector","slides","querySelectorAll","length","dots","xDown","yDown","activeSlideIndex","classList","add","addEventListener","e","keyCode","prevSlide","nextSlide","bind","handleTouchStart","handleTouchMove","next","prev","enableDots","console","warn","dotsEl","forEach","slide","index","dot","document","createElement","setAttribute","changeActiveSlide","appendChild","remove","focus","touches","clientX","clientY","xUp","yUp","xDiff","yDiff","Math","abs","window"],"mappings":"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","file":"showcase.ba9088cc.js","sourceRoot":"..","sourcesContent":["function throttle(f, t) {\n\tlet inThrottle;\n\treturn function(args) {\n\t\tif(!inThrottle) {\n\t\t\tf(args);\n\t\t\tinThrottle = true;\n\t\t\tsetTimeout(() => inThrottle = false, t)\n\t\t}\n\t}\n}\n\nclass Showcase {\n\tconstructor(el) {\n\t\tif(!el) {\n\t\t\tconsole.warn('No showcase element found');\n\t\t\treturn;\n\t\t}\n\t\tconst _this = this;\n\t\tthis.el = el;\n\t\tthis.content = el.querySelector('.showcase__content');\n\t\tthis.slides = el.querySelectorAll('.showcase__slide');\n\t\tif(!this.content || this.slides.length === 0) {\n\t\t\tconsole.warn('Invalid markup or no slides found');\n\t\t\treturn;\n\t\t}\n\t\tthis.dots = [];\n\t\tthis.xDown = null;\n\t\tthis.yDown = null;\n\t\tthis.activeSlideIndex = 0;\n\t\tthis.slides[this.activeSlideIndex].classList.add('active');\n\n\t\tthis.content.addEventListener('keydown', e => {\n\t\t\tif(e.keyCode === 37) {\n\t\t\t\tthis.prevSlide();\n\t\t\t}\n\t\t\tif(e.keyCode === 39) {\n\t\t\t\tthis.nextSlide();\n\t\t\t}\n\t\t})\n\t\tthis.content.addEventListener('click', this.nextSlide.bind(_this));\n\t\tthis.content.addEventListener('touchstart', throttle(this.handleTouchStart.bind(_this), 250));\n\t\tthis.content.addEventListener('touchmove', throttle(this.handleTouchMove.bind(_this), 250));\n\t\tthis.next = el.querySelector('.showcase__next');\n\t\tthis.prev = el.querySelector('.showcase__prev');\n\t\tif(this.next && this.prev) {\n\t\t\tthis.next.addEventListener('click', this.nextSlide.bind(_this));\n\t\t\tthis.prev.addEventListener('click', this.prevSlide.bind(_this));\n\t\t}\n\t\t\n\t\tthis.enableDots()\n\t}\n\n\tenableDots() {\n\t\tconst dotsEl = this.el.querySelector('.showcase__dots');\n\t\tthis.slides.forEach((slide, index) => {\n\t\t\tconst dot = document.createElement('button');\n\t\t\tdot.setAttribute('data-slide-index', index)\n\t\t\tdot.setAttribute('aria-label', `Image ${index+1}`)\t\t\t\t\t\n\t\t\tdot.classList.add('showcase__dot');\n\t\t\tif(index === this.activeSlideIndex) {\n\t\t\t\tdot.classList.add('active');\n\t\t\t}\n\t\t\tdot.addEventListener('click', () => {\n\t\t\t\tthis.changeActiveSlide(index);\n\t\t\t})\n\t\t\tthis.dots[index] = dot;\n\t\t\tdotsEl.appendChild(dot);\n\t\t})\n\t}\n\n\tchangeActiveSlide(nextSlide) {\n\t\tthis.slides[this.activeSlideIndex].classList.remove('active');\n\t\tthis.slides[nextSlide].classList.add('active');\n\t\tthis.dots[this.activeSlideIndex].classList.remove('active');\n\t\tthis.dots[nextSlide].classList.add('active');\n\t\tthis.activeSlideIndex = nextSlide;\n\t\tthis.slides[this.activeSlideIndex].focus();\n\t}\n\n\tnextSlide() {\n\t\tconst nextSlide = (this.activeSlideIndex === this.slides.length-1) ? 0 : this.activeSlideIndex+1;\n\t\tthis.changeActiveSlide(nextSlide);\n\t}\n\n\tprevSlide() {\n\t\tconst nextSlide = (this.activeSlideIndex === 0) ? this.slides.length-1 : this.activeSlideIndex-1;\n\t\tthis.changeActiveSlide(nextSlide);\n\t}\n\n\thandleTouchStart(e) {\n\t\tthis.xDown = e.touches[0].clientX;\n\t\tthis.yDown = e.touches[0].clientY;\n\t}\n\n\thandleTouchMove(e) {\n\t\tif(!this.xDown || !this.yDown) return;\n\t\t\n\t\tconst xUp = e.touches[0].clientX;\n\t\tconst yUp = e.touches[0].clientY;\n\n\t\tconst xDiff = this.xDown - xUp;\n\t\tconst yDiff = this.yDown - yUp;\n\t\tif( Math.abs(xDiff) > Math.abs(yDiff) ) {\n\t\t\t// Left swipe\n\t\t\tif(xDiff > 0) {\n\t\t\t\tthis.nextSlide();\n\t\t\t}\n\t\t\t// Right swipe\n\t\t\telse {\n\t\t\t\tthis.prevSlide()\n\t\t\t}\n\t\t}\n\n\t\tthis.xDown = null;\n\t\tthis.yDown = null;\n\t}\n}\nwindow.Showcase = Showcase;"]}