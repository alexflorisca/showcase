"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function throttle(a,b){var c;return function(d){c||(a(d),c=!0,setTimeout(function(){return c=!1},b))}}var Showcase=/*#__PURE__*/function(){function a(b){var c=this;if(_classCallCheck(this,a),!b)return void console.warn("No showcase element found");var d=this;return this.el=b,this.content=b.querySelector(".showcase__content"),this.slides=b.querySelectorAll(".showcase__slide"),this.content&&0!==this.slides.length?void(this.dots=[],this.xDown=null,this.yDown=null,this.activeSlideIndex=0,this.slides[this.activeSlideIndex].classList.add("active"),this.content.addEventListener("keydown",function(a){37===a.keyCode&&c.prevSlide(),39===a.keyCode&&c.nextSlide()}),this.content.addEventListener("click",this.nextSlide.bind(d)),this.content.addEventListener("touchstart",throttle(this.handleTouchStart.bind(d),250)),this.content.addEventListener("touchmove",throttle(this.handleTouchMove.bind(d),250)),this.next=b.querySelector(".showcase__next"),this.prev=b.querySelector(".showcase__prev"),this.next&&this.prev&&(this.next.addEventListener("click",this.nextSlide.bind(d)),this.prev.addEventListener("click",this.prevSlide.bind(d))),this.enableDots()):void console.warn("Invalid markup or no slides found")}return _createClass(a,[{key:"enableDots",value:function enableDots(){var a=this,b=this.el.querySelector(".showcase__dots");this.slides.forEach(function(c,d){var e=document.createElement("button");e.setAttribute("data-slide-index",d),e.setAttribute("aria-label","Image ".concat(d+1)),e.classList.add("showcase__dot"),d===a.activeSlideIndex&&e.classList.add("active"),e.addEventListener("click",function(){a.changeActiveSlide(d)}),a.dots[d]=e,b.appendChild(e)})}},{key:"changeActiveSlide",value:function changeActiveSlide(a){this.slides[this.activeSlideIndex].classList.remove("active"),this.slides[a].classList.add("active"),this.dots[this.activeSlideIndex].classList.remove("active"),this.dots[a].classList.add("active"),this.activeSlideIndex=a,this.slides[this.activeSlideIndex].focus()}},{key:"nextSlide",value:function(){var a=this.activeSlideIndex===this.slides.length-1?0:this.activeSlideIndex+1;this.changeActiveSlide(a)}},{key:"prevSlide",value:function prevSlide(){var a=0===this.activeSlideIndex?this.slides.length-1:this.activeSlideIndex-1;this.changeActiveSlide(a)}},{key:"handleTouchStart",value:function handleTouchStart(a){this.xDown=a.touches[0].clientX,this.yDown=a.touches[0].clientY}},{key:"handleTouchMove",value:function handleTouchMove(a){var b=Math.abs;if(this.xDown&&this.yDown){var c=a.touches[0].clientX,d=a.touches[0].clientY,e=this.xDown-c,f=this.yDown-d;b(e)>b(f)&&(0<e?this.nextSlide():this.prevSlide()),this.xDown=null,this.yDown=null}}}]),a}();window.Showcase=Showcase;
